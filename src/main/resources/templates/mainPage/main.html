<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Hello Spring Boot!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<div th:text="test">

</div>

<div class="simple-navi-panel">
    <a id="button" class="red-button" href="">Losuj</a>
    <a id="button" class="gray-button" href="">Lista nagród</a>
    <a id="button" class="gray-button" href="">Pobierz uczestników</a>
</div>


<script>
    var eventId = localStorage.getItem("eventId");
    var appKey = localStorage.getItem("appKey");
    var participants = new Array();

    function getParticipants(callback)
    {
        $.ajax({
            url: "", //TODO Add url
            cache: false,
            type: "GET",
            dataType: "json",
            data: {"eventId": eventId, "appKey": appKey},
            complete: function(){},
            success: function(data){
                if(callback != null) {
                    callback(data);
                }
            },
            error: function(data, textStatus, xhr){
                if(callback != null) {
                    callback(false);
                }
            }
        });
    }

    function processParticipants(participantsJson)
    {
        participantsJson.participants.forEach(function(participantJson){
            var participant = Object.create(null);
            participant.memberId = participantJson.memberId;
            participant.name = participantJson.name;
            participants.push(participant);
        });
    }
</script>

</body>
</html>
